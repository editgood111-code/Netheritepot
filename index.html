<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Netheritepot Tierlist</title>
<style>
body { font-family: Arial,sans-serif; background:#0d1117; color:#c9d1d9; text-align:center; padding:20px; }
h1 { color:#ffcc00; margin-bottom:20px; }
.search-container { margin-bottom:25px; display:flex; justify-content:center; gap:10px; }
.search-container input {
  padding:10px 16px; width:260px;
  background:#161b22; border:1px solid #30363d;
  color:white; border-radius:8px; outline:none;
}
.search-container button {
  padding:10px 16px; background:#238636;
  border:none; border-radius:8px;
  color:white; cursor:pointer; font-weight:bold;
}
.search-container button:hover { background:#2ea043; }
#search-result {
  margin:25px auto; width:420px; padding:18px;
  background:#161b22; border-radius:12px;
  display:none; text-align:left;
}
.result-top { display:flex; align-items:center; gap:15px; }
.result-top img { width:70px; height:70px; border-radius:6px; }
.result-name { font-size:24px; font-weight:bold; }
.result-region { font-size:14px; opacity:0.8; }
.tier-box {
  margin-top:15px; display:flex; align-items:center;
  gap:8px; background:#238636;
  width:fit-content; padding:6px 10px;
  border-radius:6px; font-weight:bold;
}
.tier-box img { width:22px; }
.leaderboard {
  display:flex; justify-content:space-between;
  max-width:1200px; margin:0 auto; gap:10px; overflow-x:auto;
}
.tier-column { flex:1; min-width:180px; }
.tier-column h2 {
  text-align:center; color:#58a6ff;
  border-bottom:1px solid #30363d;
  padding-bottom:5px; margin-bottom:10px;
}
.player-row {
  display:flex; align-items:center;
  gap:7px; margin-bottom:6px; position:relative;
}
.player-row img { width:26px; height:26px; border-radius:50%; border:1px solid #fff; }
.player-name { cursor:pointer; transition:0.3s; white-space:nowrap; }
.player-name:hover { transform:translateX(10px); }
.tooltip {
  position:absolute; left:100%; top:0;
  background:#238636; padding:3px 7px;
  font-size:12px; color:white;
  border-radius:5px; opacity:0; transition:0.3s;
}
.player-row:hover .tooltip { opacity:1; }
button {
  padding:8px 14px; background:#238636;
  border:none; border-radius:6px; color:white;
  cursor:pointer; margin:5px; transition:0.3s;
}
button:hover { background:#2ea043; }
</style>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

</head>
<body>

<h1>Netheritepot Tierlist</h1>

<div class="search-container">
  <input type="text" id="search-input" placeholder="Search player...">
  <button onclick="searchPlayer()">Search</button>
</div>

<div id="search-result">
  <div class="result-top">
    <img id="search-skin">
    <div>
      <div id="search-name" class="result-name"></div>
      <div id="search-region" class="result-region"></div>
    </div>
  </div>

  <div class="tier-box">
    <img src="https://mctiers.com/tier_icons/nethop.svg">
    <span id="search-tier"></span>
  </div>

  <div style="margin-top:10px;">
    <a id="search-namemc" href="" target="_blank" style="color:#58a6ff;">View NameMC Profile</a>
  </div>
</div>

<div class="leaderboard" id="leaderboard-container"></div>

<div style="margin-top:20px;">
  <button onclick="addPlayer()">Add Player</button>
  <button onclick="removePlayer()">Remove Player</button>
</div>

<script>
const secretKey = "aceppp1122";
const databaseURL = "https://tierlist-3305a-default-rtdb.firebaseio.com";

const categoryMap = {
  "HT1":"T1","LT1":"T1","HT2":"T2","LT2":"T2","HT3":"T3","LT3":"T3","HT4":"T4","LT4":"T4","HT5":"T5","LT5":"T5",
  "RHT1":"T1","RLT1":"T1","RHT2":"T2","RLT2":"T2","RHT3":"T3","RLT3":"T3"
};
const categories = ["T1","T2","T3","T4","T5"];

firebase.initializeApp({
  apiKey: "AIzaSyB3FWTZ587KxVbe1POuw-2Rk5FSrcpZ_QU",
  authDomain: "tierlist-3305a.firebaseapp.com",
  databaseURL: databaseURL,
  projectId: "tierlist-3305a",
  storageBucket: "tierlist-3305a.firebasestorage.app",
  messagingSenderId: "410709885310",
  appId: "1:410709885310:web:ceab1ca94e0f45513f332f"
});

const db = firebase.database();
const playersRef = db.ref("players");
let players = [];

playersRef.once("value", snapshot => {
  players = snapshot.val() || [];
  render();
});

function savePlayers(){ playersRef.set(players); }
function getHeadURL(name,type){ return type==="premium"?`https://mc-heads.
