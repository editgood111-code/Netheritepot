<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Netheritepot Leaderboard</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #0d1117;
  color: #c9d1d9;
  text-align: center;
  padding: 20px;
}

h1 {
  color: #ffcc00;
  margin-bottom: 20px;
}

.leaderboard {
  margin: 0 auto;
  max-width: 1200px;
  background: #161b22;
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 0 15px #000;
  text-align: left;
  overflow-x: auto;
}

.tier-header {
  display: flex;
  justify-content: space-between;
  gap: 20px;
  margin-bottom: 10px;
}

.tier-column {
  flex: 1;
  min-width: 150px;
}

.tier-column h2 {
  color: #58a6ff;
  border-bottom: 1px solid #30363d;
  padding-bottom: 5px;
  margin-bottom: 5px;
}

.player-row {
  display: flex;
  align-items: center;
  gap: 5px;
  margin-bottom: 4px;
  flex-wrap: wrap;
}

.player-row img {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  border: 1px solid #fff;
}

button {
  padding: 6px 12px;
  margin-top: 10px;
  background: #238636;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  transition: 0.3s;
}

button:hover {
  background: #2ea043;
}
</style>
</head>
<body>
<h1>Netheritepot Leaderboard</h1>

<div class="leaderboard" id="leaderboard-container"></div>

<div id="admin-buttons" style="display:none; margin-top:20px;">
  <button onclick="addPlayer()">Add Player</button>
  <button onclick="removeAnyPlayer()">Remove Player</button>
</div>

<script>
const secretKey = "netherite123"; // Only admin knows

// Fixed tiers in order
const tiers = ["HT1","LT1","HT2","LT2","HT3","LT3","HT4","LT4","HT5","LT5"];

// Initial players with region
let players = [
  { name: "Swight", tier: "HT1", region: "EU", skin: "https://mc-heads.net/avatar/Swight/32" },
  { name: "Marlowww", tier: "LT1", region: "NA", skin: "https://mc-heads.net/avatar/Marlowww/32" },
  { name: "ItzRealMe", tier: "HT2", region: "AS", skin: "https://mc-heads.net/avatar/ItzRealMe/32" },
];

// Admin check on page load
function checkAdmin() {
  const key = prompt("Enter admin secret key (optional for view-only):");
  if (key === secretKey) {
    document.getElementById("admin-buttons").style.display = "block"; // show buttons only for admin
  } else {
    alert("You are in view-only mode. You cannot add or remove players.");
  }
}

// Render leaderboard
function render() {
  const container = document.getElementById("leaderboard-container");
  container.innerHTML = "";

  // Tier header
  const header = document.createElement("div");
  header.className = "tier-header";
  tiers.forEach(tier => {
    const col = document.createElement("div");
    col.className = "tier-column";
    const h2 = document.createElement("h2");
    h2.textContent = tier;
    col.appendChild(h2);
    header.appendChild(col);
  });
  container.appendChild(header);

  // Determine max number of players in any tier
  const maxPlayers = Math.max(...tiers.map(t => players.filter(p => p.tier===t).length));

  // Render each row
  for (let i = 0; i < maxPlayers; i++) {
    const rowDiv = document.createElement("div");
    rowDiv.style.display = "flex";
    rowDiv.style.justifyContent = "space-between";
    rowDiv.style.gap = "20px";
    rowDiv.style.marginBottom = "2px";

    tiers.forEach(tier => {
      const colDiv = document.createElement("div");
      colDiv.className = "tier-column";
      const tierPlayers = players.filter(p => p.tier===tier).sort((a,b)=>a.name.localeCompare(b.name));
      if (tierPlayers[i]) {
        const p = tierPlayers[i];
        const pDiv = document.createElement("div");
        pDiv.className = "player-row";
        pDiv.innerHTML = `<img src="${p.skin}" alt="${p.name}"> <span>[${p.region}] ${p.name}</span>`;
        colDiv.appendChild(pDiv);
      }
      rowDiv.appendChild(colDiv);
    });

    container.appendChild(rowDiv);
  }
}

// Add player (admin only)
function addPlayer() {
  const key = prompt("Enter admin secret key:");
  if (key !== secretKey) {
    alert("Unauthorized! Only admin can add players.");
    return;
  }

  const name = prompt("Player name?");
  const tier = prompt("Tier (HT1, LT1 ... HT5, LT5)?");
  const region = prompt("Region (AS, EU, ME, AU, NA)?").toUpperCase();

  if (!tiers.includes(tier)) {
    alert("Invalid tier!");
    return;
  }

  if (!["AS","EU","ME","AU","NA"].includes(region)) {
    alert("Invalid region!");
    return;
  }

  const skin = prompt("Skin URL (leave blank for default)");
  if (!name || !tier) return;

  players.push({ name, tier, region, skin: skin || `https://mc-heads.net/avatar/${name}/32` });
  render();
}

// Remove player (admin only)
function removeAnyPlayer() {
  const key = prompt("Enter admin secret key:");
  if (key !== secretKey) {
    alert("Unauthorized! Only admin can remove players.");
    return;
  }

  const name = prompt("Enter player name to remove:");
  const index = players.findIndex(p => p.name === name);
  if (index === -1) {
    alert("Player not found!");
    return;
  }

  players.splice(index, 1);
  render();
}

// Initial render and admin check
render();
checkAdmin();
</script>
</body>
</html>
