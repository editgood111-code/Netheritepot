<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Netheritepot Leaderboard</title>
<style>
body { font-family: Arial,sans-serif; background:#0d1117; color:#c9d1d9; text-align:center; padding:20px; }
h1 { color:#ffcc00; margin-bottom:20px; }
.leaderboard { display:flex; justify-content:space-between; max-width:1200px; margin:0 auto; gap:10px; overflow-x:auto; }
.tier-column { flex:1; min-width:180px; }
.tier-column h2 { text-align:center; color:#58a6ff; border-bottom:1px solid #30363d; padding-bottom:5px; margin-bottom:5px; }
.player-row { display:flex; align-items:center; gap:5px; margin-bottom:4px; position:relative; overflow:hidden; }
.player-row img { width:24px; height:24px; border-radius:50%; border:1px solid #fff; }
.player-name { transition: all 0.3s ease; cursor:pointer; white-space:nowrap; display:inline-block; }
.player-name:hover { transform:translateX(10px); }
.tooltip { position:absolute; left:100%; top:0; background:#238636; color:#fff; padding:2px 6px; border-radius:4px; font-size:12px; white-space:nowrap; opacity:0; pointer-events:none; transition:opacity 0.3s; }
.player-row:hover .tooltip { opacity:1; }
button { padding:6px 12px; margin-top:10px; background:#238636; color:white; border:none; border-radius:6px; cursor:pointer; transition:0.3s; }
button:hover { background:#2ea043; }
</style>
</head>
<body>
<h1>Netheritepot Leaderboard</h1>

<div class="leaderboard" id="leaderboard-container"></div>

<div style="margin-top:20px;">
  <button onclick="addPlayer()">Add Player</button>
  <button onclick="removeAnyPlayer()">Remove Player</button>
</div>

<script>
const secretKey = "aceppp1122"; // Admin key

// Updated category mapping with retired tiers
const categoryMap = { 
  "HT1":"T1","LT1":"T1","HT2":"T2","LT2":"T2","HT3":"T3","LT3":"T3","HT4":"T4","LT4":"T4","HT5":"T5","LT5":"T5",
  "RHT3":"T3","RHT2":"T2","RHT1":"T1","RLT2":"T2","RLT1":"T1"
};

const categories = ["T1","T2","T3","T4","T5"];

// Load players from localStorage or default
let players = JSON.parse(localStorage.getItem("players")) || [
  { name:"Swight", tier:"HT1", region:"EU", skin:"https://mc-heads.net/avatar/Swight/32" },
  { name:"Marlowww", tier:"LT2", region:"NA", skin:"https://mc-heads.net/avatar/Marlowww/32" },
  { name:"ItzRealMe", tier:"HT3", region:"AS", skin:"https://mc-heads.net/avatar/ItzRealMe/32" }
];

// Save players to localStorage
function savePlayers(){ localStorage.setItem("players", JSON.stringify(players)); }

// Generate Minecraft head URL
function getHeadURL(name, type){
  if(type.toLowerCase() === "premium") return `https://mc-heads.net/avatar/${name}/32`;
  return "https://mc-heads.net/avatar/Steve/32"; // crack account
}

// Render leaderboard with HT > LT > RHT/RLT sorting
function render(){
  const container=document.getElementById("leaderboard-container");
  container.innerHTML="";
  const cols={};
  categories.forEach(cat=>{
    const col=document.createElement("div");
    col.className="tier-column";
    const h2=document.createElement("h2");
    h2.textContent=cat;
    col.appendChild(h2);
    container.appendChild(col);
    cols[cat]=col;
  });

  categories.forEach(cat=>{
    const catPlayers = players
      .filter(p => categoryMap[p.tier] === cat)
      .sort((a,b)=>{
        // HT -> LT -> RHT -> RLT
        const aPriority = a.tier.startsWith("HT") ? 0 : a.tier.startsWith("LT") ? 1 : a.tier.startsWith("RHT") ? 2 : 3;
        const bPriority = b.tier.startsWith("HT") ? 0 : b.tier.startsWith("LT") ? 1 : b.tier.startsWith("RHT") ? 2 : 3;
        if(aPriority !== bPriority) return aPriority - bPriority;

        // Extract number from tier (e.g., HT3 -> 3, RLT1 -> 1)
        const aNum = parseInt(a.tier.match(/\d/)[0]);
        const bNum = parseInt(b.tier.match(/\d/)[0]);
        if(aNum !== bNum) return aNum - bNum;

        return a.name.localeCompare(b.name);
      });
    catPlayers.forEach(p=>{
      const pDiv=document.createElement("div");
      pDiv.className="player-row";
      pDiv.innerHTML=`<img src="${p.skin}" alt="${p.name}"><span class="player-name">${p.name}<span class="tooltip">${p.region} | ${p.tier}</span></span>`;
      cols[cat].appendChild(pDiv);
    });
  });
}

// Add player (admin)
function addPlayer(){
  const key=prompt("Enter admin key to add player:");
  if(key!==secretKey){ alert("Unauthorized!"); return; }
  const name=prompt("Player name?");
  const tier=prompt("Tier (HT1, LT1 ... HT5, LT5, RHT3, RHT2, RHT1, RLT2, RLT1)?");
  const region=prompt("Region (AS, EU, ME, AU, NA)?").toUpperCase();
  const type=prompt("Account type (premium/crack)?").toLowerCase();
  if(!Object.keys(categoryMap).includes(tier) || !["AS","EU","ME","AU","NA"].includes(region) || !["premium","crack"].includes(type)){
    alert("Invalid input"); return;
  }
  
  const skin = getHeadURL(name,type);
  players.push({name,tier,region,skin});
  savePlayers();
  render();
}

// Remove player (admin)
function removeAnyPlayer(){
  const key=prompt("Enter admin key to remove player:");
  if(key!==secretKey){ alert("Unauthorized!"); return; }
  const name=prompt("Enter player name to remove:");
  const index=players.findIndex(p=>p.name.toLowerCase()===name.toLowerCase());
  if(index===-1){ alert("Player not found!"); return; }
  players.splice(index,1);
  savePlayers();
  render();
}

// Init
render();
</script>
</body>
</html>
